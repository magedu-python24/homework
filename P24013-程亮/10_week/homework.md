#### 集合（set）元素去重的判断依据是什么

去重需要要使用\_\_eq\_\_判断两个对象的值是否相等，\_\_hash\_\_返回一个值做为set的key, \_\_hash\_\_的值相等并不说明两个对象是相等的，所以去重的判断依据是使用\_\_eq\_\_判断两个对象的值是否相等。



#### 总结本周视频讲解魔术方法的作用及什么情况会执行到该方法

| 魔术方法          | 作用                              | 执行场景                                                     |
| ----------------- | --------------------------------- | ------------------------------------------------------------ |
| \_\_new\_\_       | 实例化一个对象                    | 即使定义了该方法，也会调用super().\_\_new\_\_(cls[, ...])的\_\_new\_\_来创建实例并返回 |
| \_\_hash\_\_      | has()的返回值                     | 定义了这个魔术方法，该类就可以被hash                         |
| \_\_eq\_\_        | 对应操作符==的作用                | 与\_\_hash\_\_配合，可实现去重                               |
| \_\_bool\_\_      | 对应bool()                        | 定义该方法后，调用该函数会返回布尔值                         |
| \_\_repr\_\_      | 对应repr()                        | 返回一个对象的字符串值，如果没有定义，会返回该对象的内存地址 |
| \_\_str\_\_       | 对应str(), format(), print()      | 返回对象的字符串表达，如果没用定义，会去调\_\_repr\_\_，如果\_\_repr\_\_也没有定义，那直接返回内存地址 |
| \_\_bytes\_\_     | 对应bytes()                       | 返回对象的bytes值                                            |
| \_\_lt\_\_        | 比较运算符<的作用                 | 可以让实例以运算符的方式来操作，不定义不能操作               |
| \_\_le\_\_        | 比较运算符<=的作用                | 可以让实例以运算符的方式来操作，不定义不能操作               |
| \_\_eq\_\_        | 比较运算符==的作用                | 可以让实例以运算符的方式来操作，不定义不能操作               |
| \_\_gt\_\_        | 比较运算符>的作用                 | 可以让实例以运算符的方式来操作，不定义不能操作               |
| \_\_ge\_\_        | 比较运算符>=的作用                | 可以让实例以运算符的方式来操作，不定义不能操作               |
| \_\_ne\_\_        | 比较运算符！=的作用               | 可以让实例以运算符的方式来操作，不定义不能操作               |
| \_\_add\_\_       | 算术运算+的作用                   | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_sub\_\_       | 算术运算-的作用                   | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_mul\_\_       | 算术运算*的作用                   | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_truediv\_\_   | 算术运算/的作用                   | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_mod\_\_       | 算术运算%的作用                   | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_floordiv\_\_  | 算术运算//的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_pow\_\_       | 算术运算**的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_divmod\_\_    | 算术运算divmod的作用              | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_iadd\_\_      | 算术运算+=的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_isub\_\_      | 算术运算-=的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_imul\_\_      | 算术运算*=的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_itruediv\_\_  | 算术运算/=的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_imod\_\_      | 算术运算%=的作用                  | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_ifloordiv\_\_ | 算术运算//=的作用                 | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_ipow\_\_      | 算术运算**=的作用                 | 可以让实例以此类方法来操作，如a('30') - b('20')              |
| \_\_len\_\_       | len()的作用                       | len()实例时执行                                              |
| \_\_iter\_\_      | 返回新的迭代对象                  | 迭代容器时执行，调用返回一个新的迭代器对象                   |
| \_\_contains\_\_  | in成员运算符                      | in成员运算时执行，没有实现就调用\_\_iter\_\_                 |
| \_\_getitem\_\_   | 实现self[key]的访问               | get key访问实例时执行，如animal[dog]                         |
| \_\_setitem\_\_   | 是设置值的方法，和getitem作用类似 | set key访问实例时执行                                        |
| \_\_missing\_\_   | getitem值不存在，此方法会起作用   | 使用\_\_getitem\_\_调用，key不存在时执行此方法               |
| \_\_call\_\_      | 实例可以函数一样被调用            | 以函数的方式调用实例时执行                                   |



#### 结合本周所学内容，实现如下类：

```python
class Ob:
  pass
# 执行以下操作：
a = Ob('tom')
b = Ob('tom')
print('a: ', a)
a[0] = 'a'
print('a:', a)
a * 3
print('len: ', len(a))
del a[1]
print('a: ', a)
print('set: ', {a, b})
# 其输出如下：
a:  ['1', '2']
a: ['a', '2']
len:  6
a:  ['a', 'a', '2', 'a', '2']
set:  {<Ob name=tom items=['a', 'a', '2', 'a', '2']>}
```



```python


class Ob:
    def __init__(self, item: str):
        self.items = []
        for i in range(1, len(item)):
            self.items.append(str(i))
        self.name = item

    def __setitem__(self, key, value):
        self.items[key] = value

    def __str__(self):
        return str(self.items)

    def __mul__(self, other):
        self.items *= 3

    def __len__(self):
        return len(self.items)

    def __delitem__(self, key):
        self.items.pop(key)

    def __hash__(self):
        return 1

    def __eq__(self, other):
        return self.name == other.name

    def __repr__(self):
        return '<{} name={} items={}>'.format(self.__class__.__name__, self.name, self.items)


a = Ob('tom')
b = Ob('tom')
print('a: ', a)
a[0] = 'a'
print('a: ', a)
a * 3
print('len: ', len(a))
del a[1]
print('a: ', a)
print('set: ', {a, b})

```

